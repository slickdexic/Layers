<!DOCTYPE html>
<html>
<head>
    <title>Test Layers Parameter Processing</title>
</head>
<body>
    <h1>Test Layers Parameter Processing</h1>
    
    <h2>What we changed:</h2>
    <ol>
        <li>Added InternalParseBeforeLinks hook to catch [[File:...|layers=...]] syntax</li>
        <li>Convert it to {{#layeredfile:...}} parser function call</li>
        <li>Parser function renders the layered image</li>
    </ol>
    
    <h2>Test with:</h2>
    <p><code>[[File:ImageTest02.jpg|300px|layers=all]]</code></p>
    
    <h2>Expected behavior:</h2>
    <ol>
        <li>InternalParseBeforeLinks catches the pattern</li>
        <li>Converts to: {{#layeredfile:ImageTest02.jpg|300px|layers=all}}</li>
        <li>Parser function renders composite image with all layers</li>
        <li>Check MediaWiki logs for "Layers: Found X file links with layers parameter"</li>
    </ol>
    
    <h2>Debugging:</h2>
    <p>Check error logs for messages starting with "Layers:" to see the conversion process.</p>
</body>
</html>
